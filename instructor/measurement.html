<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Green software use on HPC: Measurement</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/incubator/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/incubator/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/incubator/favicon-16x16.png"><link rel="manifest" href="../favicons/incubator/site.webmanifest"><link rel="mask-icon" href="../favicons/incubator/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../measurement.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="../assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Green software use on HPC
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Green software use on HPC
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="about.html">About</a></li><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Green software use on HPC
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 74%" class="percentage">
    74%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 74%" aria-valuenow="74" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../measurement.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Introduction</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="carbon-efficiency.html">2. Carbon Efficiency</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="energy-efficiency.html">3. Energy Efficiency</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="carbon-awareness.html">4. Carbon Awareness</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="hardware-efficiency.html">5. Hardware Efficiency</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        6. Measurement
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#introduction">Introduction</a></li>
<li><a href="#the-ghg-protocol">The GHG protocol</a></li>
<li><a href="#how-to-calculate-your-hpc-emissions">How to calculate your HPC emissions</a></li>
<li><a href="#hpc-carbon-intensity-hpc-ci-specification">HPC Carbon Intensity (HPC-CI) specification</a></li>
<li><a href="#the-hpc-ci-equation">The HPC-CI equation</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="reducing-emissions.html">7. Reducing Emissions</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <li><a href="about.html">About</a></li><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/hardware-efficiency.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/reducing-emissions.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/hardware-efficiency.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Hardware Efficiency
        </a>
        <a class="chapter-link float-end" href="../instructor/reducing-emissions.html" rel="next">
          Next: Reducing Emissions...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Measurement</h1>
        <p>Last updated on 2025-03-19 |

        <a href="https://github.com/carpentries-incubator/green-software-hpc/edit/main/episodes/measurement.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 30 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How are emissions measured and classified under the GHG
protocol?</li>
<li>How do I use the GHG protocol to estimate emissions from my use of
HPC?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Understand how emissions are classified in the widely-used GHG
protocol</li>
<li>Know which GHG protocol classifications are relevant to use of HPC
systems</li>
<li>Learn a methodology to use GHG protocol to estimate the emissions
associated with our use of HPC systems</li>
<li>Understand how emission rates from HPC can be calculated</li>
</ul></div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h2>
<hr class="half-width"><p>The Greenhouse Gas (GHG) protocol is the most commonly-used method
for organisations to measure their total carbon emissions. Understanding
GHG scopes and how to measure your software against industry standards
will help you see to what extent you are reducing carbon emissions and
how that fits with wider activities to reduce emissions.</p>
<p>To complement the GHG protocol, and if yo develop software that is
used by others, you can also use the Software Carbon Intensity (SCI)
specification. While the GHG is a more generic measurement suitable for
all types of organisations, the SCI is specifically for measuring a rate
of software emissions and designed to incentivise the elimination of
those emissions.</p>
</section><section><h2 class="section-heading" id="the-ghg-protocol">The GHG protocol<a class="anchor" aria-label="anchor" href="#the-ghg-protocol"></a></h2>
<hr class="half-width"><p>The <a href="https://ghgprotocol.org" class="external-link">Greenhouse Gas protocol</a> is
the most widely used and internationally recognized greenhouse gas
accounting standard. <a href="https://ghgprotocol.org/about-us" class="external-link">92%</a>
of Fortune 500 companies use the GHG protocol when calculating and
disclosing their carbon emissions and it provides the basis of emissions
reporting for most countries (including the UK). Using the GHG protocol
allows us to compare our emissions from use of HPC systems to other
sources of emissions in a quantitative way.</p>
<p>The GHG protocol divides emissions into three scopes:</p>
<ul><li>
<strong>Scope 1</strong>: Direct emissions from
<strong>operations</strong> owned or controlled by the reporting
organisation, such as on-site fuel combustion or fleet vehicles.</li>
<li>
<strong>Scope 2</strong>: Indirect emissions related to
<strong>emission generation of purchased energy</strong>, such as heat
and electricity.</li>
<li>
<strong>Scope 3</strong>: Other indirect emissions from all the
other activities you are engaged in. Scope 3 emissions are typically
split into two further categories: <em>Upstream Emissions</em> and
<em>Downstream Emissions</em>:
<ul><li>
<strong>Upstream Scope 3 Emissions</strong>: Includes all emissions
from an organisation’s supply chain, e.g. emissions from manufacturing
and shipping a product</li>
<li>
<strong>Downstream Scope 3 Emissions</strong>: Emissions resulting
from the use of a product, e.g. the electricity customers may consume
when using your product or waste output from the product</li>
</ul></li>
</ul><p>Scope 3, sometimes referred to as value chain emissions, is the most
significant source of emissions and the most complex to calculate for
many organisations. These encompass the full range of activities needed
to create a product or service, from conception to distribution. In the
case of a laptop, for example, every raw material used in its production
emits carbon when being extracted and processed (part of the upstream
scope 3 emissions). Value chain emissions also include emissions from
the use of the laptop, meaning the emissions from the energy used to
power the laptop after it has been sold to a customer (part of
downstream scope 3 emissions).</p>
<p>Through this approach, it’s possible to sum up all the GHG emissions
from every organization and person in the world and reach a global
total.</p>
<div class="section level3">
<h3 id="what-scope-does-my-application-fall-into">What scope does my application fall into?<a class="anchor" aria-label="anchor" href="#what-scope-does-my-application-fall-into"></a></h3>
<p>We have already seen how the GHG protocol asks us to bucket emissions
from HPC system use according to scopes 1-3. But how do we actually do
this?</p>
<div id="exercise-what-scope-for-hpc-emissions" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-what-scope-for-hpc-emissions" class="callout-inner">
<h3 class="callout-title">Exercise: What scope for HPC emissions?</h3>
<div class="callout-content">
<p>Throughout this course we have spoken about emissions from two
different sources associated with our use of HPC: emissions from the
electricity used to run our models/simulations on HPC systems and
embodied emissions from the HPC system hardware. Given the definitions
of scope 1-3 emissions given above, what scope do you think these two
different sources of HPC system use emissions fall into?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ul><li>Emissions from electricity used: these would be classified as Scope
2 emissions</li>
<li>Embodied emissions from HPC system hardware: these would be
classified as Upstream Scope 3 emissions</li>
</ul></div>
</div>
</div>
</div>
<div id="hpc-electricity-scope-2-or-downstream-scope-3" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="hpc-electricity-scope-2-or-downstream-scope-3" class="callout-inner">
<h3 class="callout-title">HPC electricity: Scope 2 or Downstream Scope 3?</h3>
<div class="callout-content">
<p>Whether the emissions from electricity use on HPC systems are
Downstream Scope 3 or Scope 2 really depends on who is computing the
emissions and for what purpose. From the viewpoint of the hardware
vendor who sells and manufactures the HPC system, the electricity use
falls into Downstream Scope 3 emissions but for operators and users of
the HPC system they would classified as Scope 2 emissions. As we are
approaching this subject as users of HPC systems we will always classify
the emissions from our electricity use on HPC systems as Scope 2.</p>
<p>In short, Downstream Scope 3 emissions are not usually relevant for
use of HPC systems as this part of the emissions is reported in the
Scope 2 emissions.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="how-to-calculate-your-hpc-emissions">How to calculate your HPC emissions<a class="anchor" aria-label="anchor" href="#how-to-calculate-your-hpc-emissions"></a></h2>
<hr class="half-width"><p>Quantifying the emissions from your work (and generating an emissions
rate, as described below) are critical steps on the path to reducing and
potentially eliminating emissions from your use of HPC systems. The
formula for calculating your emissions from use of HPC systems
(<code>HPC-E</code>) is straightforward:</p>
<pre><code><span><span class="va">HPC</span><span class="op">-</span><span class="va">E</span> <span class="op">=</span> <span class="op">(</span><span class="va">E</span> <span class="op">*</span> <span class="va">I</span><span class="op">)</span> <span class="op">+</span> <span class="va">M</span></span></code></pre>
<ul><li>
<code>E</code> = Energy consumed by HPC use (in kWh)</li>
<li>
<code>I</code> = Location-based marginal carbon intensity (in
kgCO<sub>2</sub>/kWh)</li>
<li>
<code>M</code> = Embodied emissions</li>
</ul><p>You can calculate this on a per job basis or for a larger grouping of
HPC use - even for a full lifetime of an HPC service.</p>
<div id="include-failed-jobs-and-jobs-that-did-not-produce-useful-output" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="include-failed-jobs-and-jobs-that-did-not-produce-useful-output" class="callout-inner">
<h3 class="callout-title">Include failed jobs and jobs that did not produce useful output</h3>
<div class="callout-content">
<p>While it can be tempting to only include the use of HPC that produced
useful output in our emissions calculations this should be avoided. The
true amount of emissions includes <strong>all</strong> of our HPC system
use to get us to the results we use and so failed jobs (due to errors)
or calculations that did not produce useful output must be included. On
the positive side, one of the ways we can reduce our emissions from use
of HPC systems is to be more careful and eliminate emissions arising
from these types of non-productive jobs.</p>
</div>
</div>
</div>
<p>Instead of bucketing the carbon emissions of HPC use into scopes 1-3,
it buckets them into <strong>operational emissions</strong> (carbon
emissions from the electricity required for your HPC use, represented by
<code>E * I</code>) and <strong>embodied emissions</strong> (carbon
emissions from the physical HPC system components, represented by
<code>M</code>).</p>
<p>Follow these steps to calculate your HPC emissions.</p>
<ol style="list-style-type: decimal"><li>Gather your energy use - this can be measured or estimated and is
often a combination of measured and estimated data</li>
<li>Determine the carbon intensity at the location of the HPC system you
are using</li>
<li>Determine the embodied emissions associated with your use of
HPC</li>
<li>Compute your total HPC emissions</li>
</ol><div class="section level3">
<h3 id="gather-energy-use">1. Gather energy use<a class="anchor" aria-label="anchor" href="#gather-energy-use"></a></h3>
<p>Many HPC systems now provide energy use data for jobs run on the
system. If this is the case, you can use these as the starting point for
calculating your energy use of HPC resources. If this is not available,
then you may need to estimate the energy use of your use of resources
from component power draw. Even if you have energy use data available
this may only cover energy use of compute nodes (or even processors on
compute nodes) so you do typically have to do some estimation of power
draw of other components to know how much extra energy to add on to
include them in your calculation.</p>
<p>If you are really lucky, the HPC system staff will have done this
calculation for you. As has been done for the UK National Supercomputing
Service, ARCHER2: <a href="https://docs.archer2.ac.uk/user-guide/energy/#scope-2-emissions" class="external-link">Estimating
emissions from ARCHER2</a></p>
<p>We will cover two different ways to estimate the power draw of HPC
systems which can then be used to compute energy use.</p>
<ol style="list-style-type: lower-alpha"><li>Use the total power draw of the system</li>
<li>Use the per-component power draw of the system</li>
</ol><div id="heterogeneous-systems" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="heterogeneous-systems" class="callout-inner">
<h3 class="callout-title">Heterogeneous systems</h3>
<div class="callout-content">
<p>The methodologies outlined below all assume the compute nodes are
heterogeneous. What do you do if this is not the case and some nodes on
the system have GPU and others do not, for example? In this case, you
should try, as much as possible, to treat each homogeneous partition as
its own smaller HPC system to help calculate energy use.</p>
</div>
</div>
</div>
<div class="section level4">
<h4 id="a--using-total-power-draw">a. Using total power draw<a class="anchor" aria-label="anchor" href="#a--using-total-power-draw"></a></h4>
<p>One of the simplest ways to estimate your energy use is to use the
total power draw of the HPC system and divide it by the number of
components to get a mean power draw per component that can be used to
estimate energy use. For example, if the total power draw of the system
is 250 kW and it contains 512 GPU, then the mean power draw per GPU is
<code>250 kW / 512 GPU = 0.488 kW/GPU</code>. This, in turn, means the
energy used for 12 hours use of 2 GPU is
<code>12 hours * 2 GPU * 0.488 kW/GPU = 11.7 kWh</code>.</p>
<p>You should use the component that you measure resource use in to
compute the mean power draw. For example. if your usage is measured in
GPUh, then compute the power draw per GPU; if your usage is measured in
nodeh, compute the power draw per node.</p>
</div>
<div class="section level4">
<h4 id="b--using-per-component-power-draws">b. Using per-component power draws<a class="anchor" aria-label="anchor" href="#b--using-per-component-power-draws"></a></h4>
<p>This approach requires more detailed information being available on
the power draw of different components though measurement or from
information from the vendors of the components. If you are getting your
energy use from counters on the compute nodes (as is sometimes possible
on HPC systems) then this approach allows you to estimate additional
energy overheads that need to be added on in addition to the measured
power draw.</p>
<p>We illustrate this approach using the estimates for the ARCHER2 HPC
system:</p>
<table style="width:100%;" class="table"><colgroup><col width="16%"><col width="16%"><col width="16%"><col width="16%"><col width="16%"><col width="16%"></colgroup><thead><tr class="header"><th>Component</th>
<th align="right">Count</th>
<th align="right">Loaded power draw per unit (kW)</th>
<th align="right">Loaded power draw (kW)</th>
<th align="right">% Total</th>
<th>Notes</th>
</tr></thead><tbody><tr class="odd"><td>Compute nodes</td>
<td align="right">5,860 nodes</td>
<td align="right">0.41</td>
<td align="right">2,400</td>
<td align="right">85%</td>
<td>Measured by on system counters</td>
</tr><tr class="even"><td>Interconnect switches</td>
<td align="right">768 switches</td>
<td align="right">0.24</td>
<td align="right">240</td>
<td align="right">9%</td>
<td>Measured by on system counters</td>
</tr><tr class="odd"><td>Lustre storage</td>
<td align="right">5 file systems</td>
<td align="right">8</td>
<td align="right">40</td>
<td align="right">1%</td>
<td>Estimate from vendor</td>
</tr><tr class="even"><td>NFS storage</td>
<td align="right">4 file systems</td>
<td align="right">8</td>
<td align="right">32</td>
<td align="right">1%</td>
<td>Estimate from vendor</td>
</tr><tr class="odd"><td>Coolant distribution units</td>
<td align="right">6 CDU</td>
<td align="right">16</td>
<td align="right">96</td>
<td align="right">3%</td>
<td>Estimate from vendor</td>
</tr><tr class="even"><td>Total</td>
<td align="right"></td>
<td align="right"></td>
<td align="right">2,808</td>
<td align="right">99%</td>
<td></td>
</tr></tbody></table><p>In this case, we have a mix of data measured on the system (power
draw of the compute nodes and power draw of the interconnect switches)
and estimates from the vendor (storage systems and CDU). Here, the total
power draw is estimated at 2,808 kW, there are 5,860 compute nodes and
the unit of resource is nodeh so we can calculate the mean per node
power draw (including all the components in the table) in the same way
as we did for method (a) with
<code>2,808 kW / 5,860 nodes = 0.480 kW/node</code> and use this to
compute energy consumption based on how many nodeh we use.</p>
<p>However, on ARCHER2 we also have the total compute node energy use
available per job to users from the Slurm scheduler. The table above
shows that the compute nodes contribute around 85% of the total power
draw of ARCHER2 (of the components included) so an alternative method to
compute the energy use is to use the measurement from the scheduler and
add an additional 15% to cover the energy used by other components. This
is, in fact, the methodology used for computing per job energy use on
ARCHER2.</p>
</div>
<div class="section level4">
<h4 id="add-in-energy-from-plant-overheads">Add in energy from plant overheads<a class="anchor" aria-label="anchor" href="#add-in-energy-from-plant-overheads"></a></h4>
<p>As well as the energy used by the system itself, there is also the
energy used by the plant that supplies power and cooling to the HPC
system. Different data centres have different sizes of overheads and
this is given by PUE (Power Use Efficiency). For example, a PUE of 1.25
indicates that an additional 25% energy use is added on top of the
system energy use to account for the plant.</p>
<p>The PUE will vary with outside weather conditions at the data centre.
For the ARCHER2 example, PUE is typically less than 10% so, s a
conservative estimate, they add an additional 10% energy use to the
total to account for plant overheads.</p>
<p>So, for the ARCHER2 example, the process for computing your total
energy use becomes:</p>
<ul><li>Measure total energy use from all jobs run</li>
<li>Add 15% extra energy to cover energy use from other components</li>
<li>Add another 10% energy use top of this new total to cover plant
overheads</li>
</ul></div>
</div>
<div class="section level3">
<h3 id="determine-local-carbon-intensity">2. Determine local carbon intensity<a class="anchor" aria-label="anchor" href="#determine-local-carbon-intensity"></a></h3>
<p>Once you have your energy use then you need to convert this to
emissions using the carbon intensity for the electricity supply for the
HPC system. In most cases, HPC systems are powered by the energy grid
and many energy grids provide details on the carbon intensity as a
function of time.</p>
<p>As we saw earlier, for the UK, the carbon intensity is dependent on
location and time. You can access the values through different web
services but one that is commonly used is the <a href="https://carbonintensity.org.uk" class="external-link">Carbon Intensity API</a>. Carbon
intensity is reported for every region every 30 minute interval. To
estimate your emissions you can either use the fine grained intensity
matched to the run times of your HPC system use or use an aggregate
value over a longer period. The aggregate value is a simpler choice for
a first estimate. The table below shows the approximate average carbon
intensities for the different regions of the UK national grid for 2024
ordered from lowest to highest.</p>
<table class="table"><colgroup><col width="13%"><col width="40%"><col width="46%"></colgroup><thead><tr class="header"><th>Type</th>
<th>Regions</th>
<th align="right">Carbon Intensity (gCO<sub>2</sub>e/kWh)</th>
</tr></thead><tbody><tr class="odd"><td>Low</td>
<td>N. Scotland, S. Scotland, N.E. England, N.W. England</td>
<td align="right">22 - 48</td>
</tr><tr class="even"><td>Low Medium</td>
<td>N. Wales</td>
<td align="right">77</td>
</tr><tr class="odd"><td>Medium</td>
<td>E. England, London, W. Midlands, S.E. England, Yorkshire</td>
<td align="right">108 - 135</td>
</tr><tr class="even"><td>High Medium</td>
<td>S. England</td>
<td align="right">186 - 203</td>
</tr><tr class="odd"><td>High</td>
<td>S.W. England, S. Wales,</td>
<td align="right">242 - 255</td>
</tr></tbody></table></div>
<div class="section level3">
<h3 id="determine-embodied-emissions">3. Determine embodied emissions<a class="anchor" aria-label="anchor" href="#determine-embodied-emissions"></a></h3>
<div id="upstream-scope-3-emissions" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="upstream-scope-3-emissions" class="callout-inner">
<h3 class="callout-title">Upstream Scope 3 emissions</h3>
<div class="callout-content">
<p>Remember that we are considering only <em>upstream</em> Scope3
emissions here. The emissions from electricity use are captured in the
Scope 2 emissions estimates.</p>
</div>
</div>
</div>
<p>Calculating the embodied emissions can be more difficult than the
operational emissions from energy consumption as it can be more
difficult to get information on embodied emissions associated with HPC
hardware. You may, of course, be lucky and the HPC system you are using
could already provide estimates of the embodied emissions which you can
use!</p>
<p>If you need to estimate this yourself, the major contributors to
embodied emissions are likely to be:</p>
<ul><li>Compute nodes</li>
<li>Interconnect switches</li>
<li>Storage</li>
</ul><p>so these are the best place to start. Bear in mind that each HPC
system is different so other components may need to be taken into
account. As a rule of thumb, you should look at the HPC system to see
which components there are lots of and use that as the starting place.
Complex components (such as nodes, storage and switches) are likely to
have much higher embodied emissions than simpler components (pumps,
fans, cables etc.).</p>
<p>As an example, here is how we have estimated embodied emissions for
ARCHER2:</p>
<table style="width:100%;" class="table"><colgroup><col width="16%"><col width="16%"><col width="16%"><col width="16%"><col width="16%"><col width="16%"></colgroup><thead><tr class="header"><th>Component</th>
<th align="right">Count</th>
<th align="right">Estimated kgCO<sub>2</sub>e per unit</th>
<th align="right">Estimated kgCO<sub>2</sub>e</th>
<th align="right">% Total Scope 3</th>
<th>References</th>
</tr></thead><tbody><tr class="odd"><td>Compute nodes</td>
<td align="right">5,860 nodes</td>
<td align="right">1,100</td>
<td align="right">6,400,000</td>
<td align="right">84%</td>
<td>(1)</td>
</tr><tr class="even"><td>Interconnect switches</td>
<td align="right">768 switches</td>
<td align="right">280</td>
<td align="right">150,000</td>
<td align="right">2%</td>
<td>(2)</td>
</tr><tr class="odd"><td>Lustre HDD</td>
<td align="right">19,759,200 GB</td>
<td align="right">0.02</td>
<td align="right">400,000</td>
<td align="right">6%</td>
<td>(3)</td>
</tr><tr class="even"><td>Lustre SSD</td>
<td align="right">1,900,800 GB</td>
<td align="right">0.16</td>
<td align="right">300,000</td>
<td align="right">4%</td>
<td>(3)</td>
</tr><tr class="odd"><td>NFS HDD</td>
<td align="right">3,240,000 GB</td>
<td align="right">0.02</td>
<td align="right">70,000</td>
<td align="right">1%</td>
<td>(3)</td>
</tr><tr class="even"><td>Total</td>
<td align="right"></td>
<td align="right"></td>
<td align="right">7,320,000</td>
<td align="right">100%</td>
<td></td>
</tr></tbody></table><p>References:</p>
<ol style="list-style-type: decimal"><li><a href="https://doi.org/10.5281/zenodo.7692451" class="external-link">IRISCAST Final
Report</a></li>
<li>Estimate taken from IBM z16™ multi frame 24-port Ethernet Switch
Product Carbon Footprint</li>
<li><a href="https://arxiv.org/abs/2207.10793" class="external-link">Tannu and Nair,
2023</a></li>
</ol><p>Note that there is a large amount of uncertainty for Scope 3
emissions due to lack of high quality embodied emissions data. The
number used for the compute node emissions is at the high end of
estimated values for a CPU-only compute node and the actual value could
be as much as 15% lower at around 900 kgCO<sub>2</sub>e/node. If the
lower value is used, it reduces the overall estimated embodied emissions
but does not significantly change the fraction of emissions attributed
to the compute nodes.</p>
<div id="other-embodied-emissions-sources" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="other-embodied-emissions-sources" class="callout-inner">
<h3 class="callout-title">Other embodied emissions sources</h3>
<div class="callout-content">
<p>We have not included embodied emissions associated with the data
centre buildings and plant in the analysis above. <a href="https://doi.org/10.5281/zenodo.7692450" class="external-link">The IRISCAST report</a>
mentioned above provides an evaluation of these values. While the total
embodied emissions can be high for these items, their long lifespan
means that their contribution to the embodied emissions during the
lifespan of a particular HPC system are generally much less significant
than the embodied emissions from the HPC system hardware itself.</p>
</div>
</div>
</div>
<div id="exercise-carbon-emissions-from-hpc-systems" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-carbon-emissions-from-hpc-systems" class="callout-inner">
<h3 class="callout-title">Exercise: Carbon emissions from HPC systems</h3>
<div class="callout-content">
<p>One estimate of the power draw of ARCHER2 is 2.6 MW. Mean carbon
intensities from different UK regions in 2024 give low emissions regions
as 26 gCO<sub>2</sub>e/kWh, medium emissions regions as 140
gCO<sub>2</sub>e/kWh and high emissions regions as 280
gCO<sub>2</sub>e/kWh. What would the carbon emissions be from 1 year of
ARCHER2 operations in the three different emissions regimes?</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>TBC</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="compute-your-total-hpc-emissions">4. Compute your total HPC emissions<a class="anchor" aria-label="anchor" href="#compute-your-total-hpc-emissions"></a></h3>
<p>Now we should have all the data we need to compute our total
emissions from HPC system use:</p>
<ul><li>
<code>E</code> - Total energy used</li>
<li>
<code>I</code> - Carbon intensity</li>
<li>
<code>M</code> - Embodied emissions estimate</li>
</ul><p>Remember the equation for computing total emissions from HPC system
use (<code>HPC-E</code>):</p>
<pre><code><span><span class="va">HPC</span><span class="op">-</span><span class="va">E</span> <span class="op">=</span> <span class="op">(</span><span class="va">E</span> <span class="op">*</span> <span class="va">I</span><span class="op">)</span> <span class="op">+</span> <span class="va">M</span></span></code></pre>
<p>we can plug the numbers in and come up with a value for the total
emissions arising from our use of HPC.</p>
<div id="e-i-on-a-per-job-basis" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="e-i-on-a-per-job-basis" class="callout-inner">
<h3 class="callout-title">
<code>E * I</code> on a per job basis</h3>
<div class="callout-content">
<p>Rather than computing total energy use and then using an aggregate
value for the carbon intensity, it may make more sense to compute
<code>E * I</code> on a per-job basis using the carbon intensity value
at the job time.</p>
</div>
</div>
</div>
<div id="exercise-computing-total-emissions-from-hpc-system-use" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-computing-total-emissions-from-hpc-system-use" class="callout-inner">
<h3 class="callout-title">Exercise: Computing total emissions from HPC system use</h3>
<div class="callout-content">
<p>You are using (or running) a GPU-based HPC service and a particular
project has used the following amounts of resource over 3 months</p>
<ul><li>1,100 GPUh</li>
<li>3,542,000 kWh</li>
</ul><p>The total embodied emissions for the service are 6,500,000 kgCO2e,
the service lifetime is 7 years and there are 1000 compute nodes each
with 8 GPU. The service is hosted in a location with a carbon intensity
of 40 gCO<sub>2</sub>e/kWh.</p>
<ol style="list-style-type: decimal"><li>Compute the scope 2 emissions for the project use</li>
<li>Compute the scope 3 emissions rate in kgCO2e/GPUh</li>
<li>Compute the scope 3 emissions for the project use</li>
<li>Do scope 2 or scope 3 emissions dominate or are they evenly
matched?</li>
</ol></div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>TBC</p>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="hpc-carbon-intensity-hpc-ci-specification">HPC Carbon Intensity (HPC-CI) specification<a class="anchor" aria-label="anchor" href="#hpc-carbon-intensity-hpc-ci-specification"></a></h2>
<hr class="half-width"><div id="software-carbon-intensity-sci" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="software-carbon-intensity-sci" class="callout-inner">
<h3 class="callout-title">Software Carbon Intensity (SCI)</h3>
<div class="callout-content">
<p>The definition, application and calculation of the HPC-CI is heavily
inspired by the <a href="https://sci.greensoftware.foundation/" class="external-link">Software
Carbon Intensity (SCI)</a> from the Green Software Foundation.</p>
</div>
</div>
</div>
<p>We now describe a methodology (the HPC Carbon Intensity
specification, HPC-CI) to calculate your emissions from HPC system use
and to encourage action towards eliminating emissions.</p>
<p>It is not a replacement for the GHG protocol, but an additional
metric that helps you understand how your HPC system use can be measured
in terms of carbon emissions so they can make more informed decisions.
While the GHG protocol calculates the <strong>total emissions</strong>,
the HPC-CI is about calculating the <strong>rate of emissions</strong>.
In automotive terms, HPC-CI is more like a miles per gallon measurement
and the GHG protocol is more like the total carbon footprint of a car
manufacturer and all their cars they produce every year.</p>
<p>An important thing to note is that it is not possible to reduce your
HPC-CI rate by purchasing offsets in the form of neutralisations,
compensations, or by offsetting electricity in the form of renewable
energy credits (we will cover this in more detail in the next section of
the workshop). This means that HPC system use that makes no effort
toward reducing emissions but spends money on carbon credits cannot
reduce the associated HPC-CI rate.</p>
<p>Offsets are an essential component of any climate strategy; however,
offsets are not eliminations and therefore are not included in the
HPC-CI metric.</p>
<p>If you make your HPC use more <strong>energy efficient, hardware
efficient</strong>, or <strong>carbon aware</strong>, your HPC-CI rate
will decrease. The only way to reduce your rate is to invest time or
resources into one of those three principles. As such, adopting the
HPC-CI metric for your HPC use, will drive investment into one of the
three pillars of green HPC use.</p>
</section><section><h2 class="section-heading" id="the-hpc-ci-equation">The HPC-CI equation<a class="anchor" aria-label="anchor" href="#the-hpc-ci-equation"></a></h2>
<hr class="half-width"><p>The equation to calculate an HPC-CI rate is simple and very closely
related to the calculation of total emissions presented above:</p>
<pre><code>HPC-CI = [(E * I) + M] per R</code></pre>
<ul><li>
<code>E</code> = Energy consumed by HPC use (in kWh)</li>
<li>
<code>I</code> = Location-based marginal carbon intensity (in
kgCO2/kWh)</li>
<li>
<code>M</code> = Embodied emissions</li>
<li>
<code>R</code> = Functional unit (e.g. iterations, simulated time,
calculation cycles, research papers published, cost)</li>
</ul><p>This yields an emissions rate in carbon emissions per functional unit
(<code>HPC-E per R</code>), e.g. kgCO2e/iteration.</p>
<p>The steps to calculate your HPC-CI score are the similar as
calculating your emissions described above with additional steps to
produce the rate. Steps 1-4 are identical the methodology described
above:</p>
<ol style="list-style-type: decimal"><li>Gather your energy use</li>
<li>Determine the carbon intensity at the location of the HPC system you
are using</li>
<li>Determine the embodied emissions associated with your use of
HPC</li>
<li>Compute your total HPC emissions</li>
<li>Select your functional unit (<code>R</code>)</li>
<li>Calculate your HPC-CI rate</li>
</ol><div class="section level3">
<h3 id="select-your-functional-unit-r">5. Select your functional unit (<code>R</code>)<a class="anchor" aria-label="anchor" href="#select-your-functional-unit-r"></a></h3>
<p>As we have seen, the HPC-CI is a rate rather than a total and
measures the intensity of emissions according to the chosen functional
unit. The specification currently does not prescribe the functional unit
and you are free to pick whichever best describes the output from your
use of HPC systems. For example, this could be a metric from the
software you use (ns simulated, number of years simulated, iterations)
or a metric tied to research progress (number of compounds modelled,
data points analysed). There may also be ideas in literature related to
your research area of what a good choice may be. You may want to trial
different functional units to see which one works best for your
work.</p>
<p>As a concrete example, imagine that you are simulating the dynamics
of a biomolecular system (using software such as GROMACS, Amber or NAMD)
then you could well chose the number of ns simulated as your functional
unit.</p>
<p>You can use multiple functional units simultaneously to have multiple
HPC-CI values for your use of HPC systems. Different HPC-CI units may be
more or less useful in different contexts.</p>
</div>
<div class="section level3">
<h3 id="calculate-hpc-ci-rate">6. Calculate HPC-CI rate<a class="anchor" aria-label="anchor" href="#calculate-hpc-ci-rate"></a></h3>
<p>Now you have both the total emisssions for your use of HPC systems
and the number of functional units arising from the same use of HPC
systems you can calculate the HPC-CI by dividing the total emissions by
the total number of functional units.</p>
<p>To continue our example of biomolecular simulation that we mentioned
above, we would take the total emissions from our HPC system use - let
us say this came out to be 1500 kgCO<sub>2</sub>e - and the total number
of functional units - say 950 ns simulated - and combine them:</p>
<pre><code>HPC-CI  = 1500 kgCO2e / 950 ns = 1.58 kgCO2e/ns</code></pre>
<div id="exercise-hpc-ci-rate" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-hpc-ci-rate" class="callout-inner">
<h3 class="callout-title">Exercise: HPC-CI rate</h3>
<div class="callout-content">
<p>In the previous exercise we computed the total HPC system emissions
for 3 months of project use to be YYYY kgCO2/e. The project was
modelling the climate and managed to simulate 3,680 years of Earth’s
climate during that 3 month period using 1,100 GPUh of resource.</p>
<ol style="list-style-type: decimal"><li>What is the HPC-CI in kgCO2e per simulated year?</li>
<li>What is the HPC-CI in kgCO2e per GPUh?</li>
</ol></div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<p>TBC</p>
</div>
</div>
</div>
</div>
<div id="estimating-emissions-associated-with-future-use-of-hpc-systems" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="estimating-emissions-associated-with-future-use-of-hpc-systems" class="callout-inner">
<h3 class="callout-title">Estimating emissions associated with future use of HPC systems</h3>
<div class="callout-content">
<p>As well as using the HPC-CI metric as a tool to help quantify and
reduce your emissions from HPC system use it can also be used to project
the emissions from HPC system use from future or planned projects. Many
funding bodies are starting to ask for emissions estimates as part of
the submission process. Calculating HPC-CI values can help you provide
these estimates.</p>
</div>
</div>
</div>
<p>Now we understand how to estimate our emissions (HPC-E) and how to
define a useful metric to understand our emissions rate linked to some
concrete output from our use of HPC systems (HPC-CI). The next section
looks at how emissions can be reduced and, ideally, eliminated.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>The GHG protocol is a metric for measuring an organisation’s total
carbon emissions and is used by organisations all over the world.</li>
<li>The GHG protocol puts carbon emissions into three scopes. Scope 3,
also known as value chain emissions, refers to the emissions from
organisations that supply others in a chain. In this way, one
organisation’s scope 1 and 2 will sum up into another organization’s
scope 3.</li>
<li>You can use the GHG protocol to estimate your emissions from HPC
system use but it requires access to good quality information from the
HPC systems you are using.</li>
<li>The HPC-CI is a metric designed specifically to calculate emissions
from HPC systems and is a rate rather than a total. This can be used to
measure improvements in emissions efficiency and drive reductions in
emissions.</li>
</ul></div>
</div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/hardware-efficiency.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/reducing-emissions.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/hardware-efficiency.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Hardware Efficiency
        </a>
        <a class="chapter-link float-end" href="../instructor/reducing-emissions.html" rel="next">
          Next: Reducing Emissions...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/carpentries-incubator/green-software-hpc/edit/main/episodes/measurement.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/carpentries-incubator/green-software-hpc/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/carpentries-incubator/green-software-hpc/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries-incubator/green-software-hpc/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:a.turner@epcc.ed.ac.uk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries-incubator.github.io/green-software-hpc/instructor/measurement.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, environment",
  "name": "Measurement",
  "creativeWorkStatus": "active",
  "url": "https://carpentries-incubator.github.io/green-software-hpc/instructor/measurement.html",
  "identifier": "https://carpentries-incubator.github.io/green-software-hpc/instructor/measurement.html",
  "dateCreated": "2025-03-19",
  "dateModified": "2025-03-19",
  "datePublished": "2025-03-19"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

